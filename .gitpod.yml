image: nberlette/gitpod-enhanced

tasks:
- init: | 
    _RC=$'\n\n# autogenerated, do not edit #\n'
    _RC+='export DENO_INSTALL="/usr/local"\n'
    _RC+='curl -fsSL https://deno.land/install.sh | sh -\n'
    _RC+='deno upgrade --canary --unstable 2>&1\n'
    _RC+='# end of autogenerated section #\n'
    echo "${_RC-}" >> ${HOME}/.bashrc
    eval "${_RC-}" &>/dev/null

vscode:
  extensions:
    - "denoland.vscode-deno"
    - "editorconfig.editorconfig"
    - "vsls-contrib.gistfs"
    - "redhat.vscode-yaml"
    - "bierner.markdown-preview-github-styles"
    - "gitpod.gitpod-desktop"
    - "gitpod.gitpod-remote-ssh"

github:
  prebuilds:
    branches: true
    pullRequestsFromForks: true
    addLabel: "gitpod-prebuilt"
    addCheck: "prevent-merge-on-error"
    addBadge: true

gitConfig:
  core.hooksPath: ".github/hooks"
